---
layout: default
classes: wide
title: "시스템 설계 방법 - 설계 과정"
date: 2024-03-10
categories: 작성중
---

# 시스템 설계 방법


---


## 목차

1. 서론
2. 개요
3. 설계 과정
4. 결론

---

## 서론

여러가지 요소들이 상호작용을 해서 큰 목표를 이루는 시스템을 프로그래머로써 작성하려면 가장 먼저 해야하는 작업은 이에 대한 설계를 하는 일입니다.

최근에 채팅 어플리케이션 프로젝트를 진행하면서 '일단 시작하고 보자'라는 생각으로 프로그램을 작성하기 시작한 적이 있습니다. 그랬더니 한발짝 나아갈 때마다 내가 지금 이 프로그램을 작성하는 것이 나중에 시스템이 다 구성됐을 때 목표한 대로 작동할 지에 대해서 확신할 수 없었고, 검토하는 과정을 계속해서 거쳐야만 했습니다. 그리고 이에 따라 구상도 변경되면서 지속적인 수정이 필요했습니다.

이러한 경험을 통해 프로그램을 작성하기 전에 시스템을 좀 더 체계적으로 설계하는 경험을 들어볼 기회가 있으면 비교적 적은 시행착오를 통해 목표한 시스템을 구현할 수 있을 것이라고 생각했습니다. 마침 이 때 추천받은 책이 **"가상 면접 사례로 배우는 대규모 시스템 설계 기초"**였습니다.

읽다보니 이를 제가 진행중인 프로젝트에 적용하는 방식을 정리하는 것이 좋겠다는 생각이 들었고, 되도록 다른 사람과 공유하고 싶다는 생각이 들어 이렇게 글을 작성하게 되었습니다. 이 글이 저와 비슷한 고민을 하며 답을 찾는 분들에게 도움이 되었으면 좋겠습니다.

---

## 개요

---

## 설계 과정

시스템을 설계하는 과정은 크게 5가지로 나눌 수 있습니다.

1. 요구사항 분석.
2. 설계 범위 결정.
3. 개략적인 설계.
4. 상세 설계.
5. 검토.

**요구사항을 분석**할 때는 우선 문제를 정의해야 합니다. 제가 작성중인 채팅 어플리케이션을 예시로 들자면 다음과 같은 질문을 해볼 수 있습니다.

* 구체적으로 어떤 기능을 제공해야 하는가?
* 제품 사용자 수는 얼마나 되는가?
* 주로 사용하는 기술 스택은 무엇인가?

이에 대해 저는 다음과 같은 답을 생각해냈습니다.

* 로그인, 채팅방 개설, 채팅방 입장, 메시지 전송, 메시지 수신, 채팅방 삭제 등의 기능을 제공해야 합니다.
* 사용자 수는 채팅방 당 최대 15,000명이라고 가정합니다.
* 주로 사용하는 기술 스택은 go, postgresql, redis, docker, azure 등입니다.

**설계 범위를 결정**할 때는 우선 설계의 목표를 설정해야 합니다. 제가 작성중인 채팅 어플리케이션을 예시로 들자면 다음과 같은 질문을 해볼 수 있습니다.

* 당장 작성하기 시작할 수 있는 기능은 무엇인가?
* 어떤 기능을 먼저 작성해야 하는가?
* 그 중요도는 무엇을 기준으로 선정해야 하는가?

이에 대해 저는 다음과 같은 답을 생각해냈습니다.

* 유저의 CRUD 기능을 먼저 작성하기 시작할 수 있습니다.
* 채팅방에서 공용으로 사용하게 될 모듈인 DBManager, SessionManager 등을 먼저 작성해야 합니다.
* 중요도는 이후에 변경이 있을 때 이를 검증할 수 있는 시스템과 다른 사람의 협업을 위한 시스템을 먼저 작성해야 합니다.

이래서 현재 가장 먼저 작성한 것은 User CRUD API인 login, logout, signup, delete 등의 기능입니다.

채팅방에서 공용으로 사용할 모듈인 DBManager, SessionManager, PasswordManage을 작성했습니다.

unittest들을 작성하고, 이들을 자동으로 검증하기 위한 시스템으로 github action을 사용했습니다. 현재 github action은 소스 코드의 unittest 및 빌드를 자동으로 검증하고 있습니다.

**개략적인 설계**는 일단 시작하기 위한 prototype이라 생각하고 제가 프로젝트 readme에 작성한 개요와 같습니다. 제가 익숙한 기술스택 내에서 기능들에 어울린다고 가장 먼저 떠오르는 것들을 이용해서 작성했습니다.

이에 따른 최초 제 ChatApplication의 개략적인 설계는 다음과 같습니다.